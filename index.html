<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GST Transaction Advisory Tool- By CA Sumit Kr Bagra</title>
<style>
  body {font-family: 'Segoe UI', Tahoma, sans-serif; background:#f4f6f8; padding:30px;}
  .container {max-width:800px; margin:auto; background:#fff; padding:25px 35px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
  h2 {text-align:center; color:#2a4d69; margin-bottom:25px;}
  label {display:block; margin-top:15px; font-weight:600;}
  input, select, textarea {width:100%; padding:8px; border:1px solid #ccc; border-radius:6px; margin-top:5px; font-size:14px;}
  button {background:#2a4d69; color:#fff; border:none; padding:10px 18px; border-radius:6px; margin-top:20px; cursor:pointer;}
  button:hover {background:#1b3652;}
  .output {background:#f9fafb; padding:15px; border-radius:8px; margin-top:25px;}
  .row {display:flex; gap:10px;}
  .row > div {flex:1;}
  
</style>
  <div style="text-align:center; margin-bottom:10px;">
    <img src="logo.png" alt="Logo" style="height:60px;">
</div>
</head>
<body>
<div class="container">
  <h2>GST Transaction Advisory Tool- By CA Sumit Kr Bagra</h2>
  <label>Description of Goods/Services</label>
  <input type="text" id="desc" placeholder="e.g. mobile phones, consulting services">

  <div class="row">
    <div>
      <label>Origin State</label>
      <select id="origin">
        <option value="">Select Origin</option>
        <option>Andhra Pradesh</option><option>Delhi</option><option>Karnataka</option>
        <option>Maharashtra</option><option>Tamil Nadu</option><option>Uttar Pradesh</option><option>West Bengal</option>
        <option>Arunachal Pradesh</option><option>Assam</option><option>Bihar</option><option>Chhattisgarh</option>
        <option>Goa</option><option>Gujarat</option><option>Haryana</option><option>Himachal Pradesh</option>
        <option>Jharkhand</option><option>Kerala</option><option>Madhya Pradesh</option><option>Manipur</option>
        <option>Meghalaya</option><option>Mizoram</option><option>Nagaland</option><option>Odisha</option>
        <option>Punjab</option><option>Rajasthan</option><option>Sikkim</option><option>Telangana</option>
        <option>Tripura</option><option>Uttarakhand</option><option>Sikkim</option><option>Telangana</option>
      </select>
    </div>
    <div>
      <label>Destination State</label>
      <select id="dest">
        <option value="">Select Destination</option>
        <option>Andhra Pradesh</option><option>Delhi</option><option>Karnataka</option>
        <option>Maharashtra</option><option>Tamil Nadu</option><option>Uttar Pradesh</option><option>West Bengal</option>
        <option>Arunachal Pradesh</option><option>Assam</option><option>Bihar</option><option>Chhattisgarh</option>
        <option>Goa</option><option>Gujarat</option><option>Haryana</option><option>Himachal Pradesh</option>
        <option>Jharkhand</option><option>Kerala</option><option>Madhya Pradesh</option><option>Manipur</option>
        <option>Meghalaya</option><option>Mizoram</option><option>Nagaland</option><option>Odisha</option>
        <option>Punjab</option><option>Rajasthan</option><option>Sikkim</option><option>Telangana</option>
        <option>Tripura</option><option>Uttarakhand</option><option>Sikkim</option><option>Telangana</option>
      </select>
    </div>
  </div>

  <button id="calculateBtn">Get Advisory</button>
  <button id="clearBtn" style="background:#888;">Clear</button>
  <div class="output" id="outputBox" style="display:none;">
    <h3>Result</h3>
    <label>Billing Type:</label><input id="billing" readonly>
    <label>HSN/SAC Code:</label><input id="hsn" readonly>
    <label>GST Rate:</label><input id="rate" readonly>
    <label>Tariff / Classification:</label><textarea id="tariff" rows="2" readonly></textarea>
  </div>
</div>

<script>
let hsnMaster = [];

// Load large data asynchronously
async function loadHSNData() {
  try {
    const res = await fetch('hsn_master.json');
    hsnMaster = await res.json();
    console.log(`Loaded ${hsnMaster.length} HSN records`);
  } catch (err) {
    alert("Error loading HSN data. Please check hsn_master.json");
  }
}












  

// Optimized search for large data
function findHSN(description) {
  const desc = description.toLowerCase();

  for (let i = 0; i < hsnMaster.length; i++) {
    const keyword = hsnMaster[i].keyword.toLowerCase();

    // Create whole-word boundary regex
    const regex = new RegExp("\\b" + keyword + "\\b");

    if (regex.test(desc)) {
      return hsnMaster[i];
    }
  }
  return null;
}

function calculateGST() {
  const desc = document.getElementById("desc").value.trim();
  const origin = document.getElementById("origin").value;
  const dest = document.getElementById("dest").value;

  if (!desc || !origin || !dest) {
    alert("Please fill in all required details.");
    return;
  }

  const billing = origin === dest ? "Intrastate (CGST + SGST)" : "Interstate (IGST)";
  const match = findHSN(desc);

  document.getElementById("billing").value = billing;
  document.getElementById("hsn").value = match ? match.hsn : "N/A";
  document.getElementById("rate").value = match ? match.rate : "Check Notification";
  document.getElementById("tariff").value = match ? match.tariff : "Unclassified Goods/Services";

  document.getElementById("outputBox").style.display = "block";
}

document.getElementById("calculateBtn").addEventListener("click", calculateGST);
window.onload = loadHSNData;
document.getElementById("clearBtn").addEventListener("click", function () {
    // Clear result fields
    document.getElementById("billing").value = "";
    document.getElementById("hsn").value = "";
    document.getElementById("rate").value = "";
    document.getElementById("tariff").value = "";

    // Hide output box
    document.getElementById("outputBox").style.display = "none";

    // Optional: Clear inputs too
    // document.getElementById("desc").value = "";
    // document.getElementById("origin").value = "";
    // document.getElementById("dest").value = "";
});



































  


</script>











